[gd_resource type="Resource" load_steps=2 format=3 uid="uid://bq0rpt34jq4lo"]

[sub_resource type="GDScript" id="GDScript_80l4e"]
script/source = "extends Resource

func recruit_npc(npc_name, building):
	var npc_scene = load(\"res://Characters/npc_node.tscn\")
	var maximum_npcs = building.definition.recruitable_npcs
	for npc_type in maximum_npcs:
		if building.recruited_npcs[npc_type].size() < maximum_npcs[npc_type]:
			var npc = npc_scene.instantiate()
			var spawn_location = building.get_node(\"SpawnPath/SpawnLocation\").position
			npc.initialize(spawn_location, npc_type, building.team)
			if building.team == \"player\":
				npc.add_to_group(\"Player Entities\")
			building.recruited_npcs[npc_type].append(npc)
			building.add_child(npc)
			print(\"Spawned NPC of type: \", npc_type, \" at \", spawn_location)
			# We only want to spawn once a tick. 
			return
	
func cast_guild_spell(spell_name):
	pass
"

[resource]
script = SubResource("GDScript_80l4e")
